<div class="departments-wrapper">
  <app-spinner *ngIf="loading"></app-spinner>
  <ng-container *ngIf="!loading">
    <h2>Departments</h2>

    <!--  Department List -->
    <table class="departments-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Head</th>
          <th>Employees</th>
          <th *appIfUserIsAdmin>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let dept of departments">
          <td>{{ dept.name }}</td>
          <td>{{ dept.head }}</td>
          <td>{{ dept.employeeCount }}</td>
          <td *appIfUserIsAdmin>
            <button (click)="deleteDepartment(dept.id)">ğŸ—‘ï¸</button>
            <button (click)="viewEmployees(dept.name)">ğŸ‘€ View</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Button moved below table for new department & transfer -->
    <div class="transfer-btn-wrapper">
      <button class="transfer-btn" (click)="goToManagePage()">
        New Department & Transfer
      </button>
    </div>
  </ng-container>
</div>
